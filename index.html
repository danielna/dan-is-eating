<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>dan is eating</title>
	<link rel="stylesheet" href="styles.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.masonry.min.js"></script>
	
	<script>
	
	var _KEY = "1684af1009448d6b66290bd7dedac4e3";
	var _USERID = "80451209@N04";
	var _APIURL = "https://secure.flickr.com/services/rest/?method=flickr.people.getPublicPhotos";
	
	$.getJSON(_APIURL, 
		{
			format: "json",
			nojsoncallback: 1,
			api_key: _KEY,
			user_id: _USERID,
			extras: "description"
		}, function(data) {
			var photos = data.photos;
	        $.each(data.photos.photo, function() {
	        	var img_src = "http://farm" + this.farm + ".static.flickr.com/" + this.server + "/" + this.id + "_" + this.secret + "_" + "m.jpg";
	        	var imgtag = $("<img/>").attr({
	        		"src": img_src,
	        		"title": this.title
	        	});

	        	var label = $("<span>").attr({"class":"label"}).append(this.title);

	        	$("<div>").attr({"class":"item"}).append(label).append(imgtag).appendTo("#container");

      		});

	        $('#container').masonry({
		    	itemSelector : '.item',
		    	isAnimated: true,
			  	animationOptions: {
			    	duration: 750,
			    	easing: 'linear',
			    	queue: false
				}	
  			});
	        console.info("reloaded");
	        $('#container').masonry("reload");
    });

	</script>

</head>
<body>

<h1>dan is eating</h1>
<p>I kind of hate flickr's website.  Why does the "loading" icon never stop? I'd rather have an easier means of getting to the photos of food I'm uploading from my iPhone.</p>
<p>This is wonky; specifically the overlapping photos. Resize the browser until the pictures shift and they'll all show.</p>
<p>There's potential here -- currently grabbing the description in JSON but not using it.  For other parameters, see this <a href="http://code.flickr.com/blog/2008/08/19/standard-photos-response-apis-for-civilized-age/">documentation.</a></p>

<div id="container">
</div>



</body>
</html>
